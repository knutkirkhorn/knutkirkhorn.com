<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
        <title>Knut Kirkhorn</title>
        <link href="https://fonts.googleapis.com/css?family=Montserrat|Slabo+27px" rel="stylesheet">
        <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
        <link rel="icon" sizes="64x64" type="image/x-icon" href="media/favicon.ico">
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <nav class="nav-bar" id="nav-menu">
            <a class="nav-item selected" href="https://knutkirkhorn.com/">Home</a>
            <a class="nav-item" href="contact">Contact</a>
            <a class="ion-navicon-round hamburger-menu" href="javascript:void(0);" onclick="toggleMenu()"></a>
        </nav>
        <div class="main-container">
            <h1>Knut Kirkhorn</h1>
            <p style="margin-bottom: 12%;">Welcome to my page</p>
            <a class="button ion-social-github" href="https://github.com/Knutakir"> GitHub</a>
            <a class="button ion-social-linkedin" href="https://www.linkedin.com/in/knut-aasgaard-kirkhorn/"> LinkedIn</a>
            
            <div class="hidden" id="repo-conatiner" style="margin-top: 15%;">
                <h2>Latest repos</h2>
                <div id="latest-repos">

                </div>
            </div>
        </div>

        <script>
            function toggleMenu() {
                const navBar = document.getElementById('nav-menu');
                if (navBar.className === 'nav-bar') {
                    navBar.className += ' dropped';
                } else {
                    navBar.className = 'nav-bar';
                }
            }

            // TODO: Replace current latest repos
            /*
            window.addEventListener('load', function() {
                const req = new XMLHttpRequest();
                req.open('GET', 'https://sindresorhus-gh-latest-repos-geakifqfri.now.sh', true);
                req.onload = function(e) {
                    if (req.readyState === 4) {
                        if (req.status === 200) {
                            // reappear repo container
                            document.getElementById('repo-conatiner').className = '';

                            const response = JSON.parse(req.responseText);
                            const latestRepos = document.getElementById('latest-repos');

                            for (let i = 0; i < response.length; i++) {
                                const language = response[i].primaryLanguage;
                                const newElement = document.createElement('a');
                                const languageElement = document.createElement('div');

                                newElement.innerHTML = response[i].name;
                                newElement.className = 'repo';
                                newElement.setAttribute('href', response[i].url);
                                languageElement.innerHTML = language.name;
                                languageElement.className = 'language';
                                languageElement.setAttribute('style', 'background-color: ' + language.color + ';');
                                newElement.appendChild(languageElement);
                                latestRepos.appendChild(newElement);
                            }
                        } else {
                            console.log(req.statusText);
                        }
                    }
                };
                req.send(null);
            });*/
        </script>
    </body>
</html>
